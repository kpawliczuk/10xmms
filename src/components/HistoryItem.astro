---
import type { MmsHistoryDto } from "../types";

interface Props {
  item: MmsHistoryDto;
}

const { item } = Astro.props;
const imageUrl = `/functions/v1/mms/image/${item.id}`;
---

<a href={imageUrl} target="_blank" class="group relative block aspect-square overflow-hidden rounded-lg shadow-md">
  <img
    src={imageUrl}
    alt={item.prompt ?? "Wygenerowana grafika"}
    class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"
    loading="lazy"
  />
  <div class="absolute inset-0 bg-black bg-opacity-0 transition-all group-hover:bg-opacity-70"></div>
  <div class="absolute bottom-0 left-0 p-2 text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100">
    <p class="text-xs font-semibold line-clamp-2">{item.prompt}</p>
  </div>
</a>