---
import type { MmsHistoryDto } from "../types";
import HistoryGrid from "./HistoryGrid.astro";
import LoadMoreButton from "./LoadMoreButton.astro";

interface Props {
  initialHistory: MmsHistoryDto[];
  nextPageOffset: number | null;
}

const { initialHistory, nextPageOffset } = Astro.props;
---

<section class="mt-8">
  <h3 class="text-xl font-bold text-slate-900">Twoja historia</h3>
  {
    initialHistory.length > 0 ? (
      <div class="mt-4">
        <HistoryGrid historyItems={initialHistory} />
        {nextPageOffset && <LoadMoreButton nextOffset={nextPageOffset} />}
      </div>
    ) : (
      <p class="mt-4 rounded-lg border-2 border-dashed border-slate-300 bg-slate-100 p-8 text-center text-slate-500">Nie masz jeszcze Å¼adnej historii. Wygeneruj swojego pierwszego MMS-a!</p>
    )
  }
</section>